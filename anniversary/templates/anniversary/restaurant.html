{% extends "anniversary/layout.html" %}
{% block head %}
<style>
.anchor {
    display: block;
    height: 92px;
    margin-top: -92px;
    visibility: hidden;
}
</style>
{% endblock %}

{% block content %}
{% load static %}
<!--========== PARALLAX ==========-->

<!-- Wrapper for slides -->
<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
    <div class="container">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        </ol>
    </div>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img class="img-responsive" src="{% static "img/1920x1080/01.jpg" %}" alt="Slider Image">
            <div class="container">
                <div class="carousel-centered">
                    <div class="margin-b-40">
                      <h2 class="carousel-title">Restaurant</h2>
                    </div>
                    <a href="{% url 'anniversary:post_new' %}"  class="btn-theme btn-theme-sm btn-white-brd text-uppercase">Add New Restaurant</a>
                </div>
            </div>
        </div>
        <div class="item">
            <img class="img-responsive" src="{% static "img/1920x1080/02.jpg" %}" alt="Slider Image">
            <div class="container">
                <div class="carousel-centered">
                    <div class="margin-b-40">
                      <h2 class="carousel-title">Restaurant</h2>
                    </div>
                    <a href="{% url 'anniversary:post_new' %}"  class="btn-theme btn-theme-sm btn-white-brd text-uppercase">Add New Restaurant</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!--========== PARALLAX ==========-->

<div class="bg-color-sky-light" data-auto-height="true">
    <div class="content-lg container">
      <h1 class="wow fadeInLeft"> THE MILITARY GUIDE </h1></p>

        <div class="row row-space-1 margin-b-2">
            <div class="col-sm-4 sm-margin-b-2">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".3s">
                    <div class="service" data-height="height">
                      <a href='#치킨'>
                        <div class="service-info">
                            <h3>치킨 TOP 3</h3>
                            {% for key in rest_top.치킨 %}
                              <h4>#{{ forloop.counter }} {% for item in key %} {{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 sm-margin-b-2">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".2s">
                    <div class="service" data-height="height">
                      <a href='#일식'>
                          <div class="service-info">
                            <h3>일식 TOP 3</h3>
                            {% for key in rest_top.일식 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".1s">
                    <div class="service" data-height="height">
                      <a href='#양식'>
                          <div class="service-info">
                            <h3>양식 TOP 3</h3>
                            {% for key in rest_top.양식 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
        </div>
        <!--// end row -->

        <div class="row row-space-1">
            <div class="col-sm-4 sm-margin-b-2">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".4s">
                    <div class="service" data-height="height">
                      <a href='#한식'>
                          <div class="service-info">
                            <h3>한식 TOP 3</h3>
                            {% for key in rest_top.한식 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 sm-margin-b-2">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".5s">
                    <div class="service" data-height="height">
                      <a href='#중식'>
                          <div class="service-info">
                            <h3>중식 TOP 3</h3>
                            {% for key in rest_top.중식 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".6s">
                    <div class="service" data-height="height">
                      <a href='#후식'>
                          <div class="service-info">
                            <h3>후식 TOP 3</h3>
                            {% for key in rest_top.후식 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row row-space-1 margin-b-2">
            <div class="col-sm-4 sm-margin-b-2">
                <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".3s">
                    <div class="service" data-height="height">
                      <a href='#베트남'>
                          <div class="service-info">
                            <h3>베트남 TOP 3</h3>
                            {% for key in rest_top.베트남 %}
                            <h4>#{{ forloop.counter }} {% for item in key %}{{item}} {% endfor %}★</h4>
                            {% endfor %}
                        </div>
                      </a>
                    </div>

                </div>
            </div>
        </div>
        <!--// end row -->
    </div>
</div>

<!-- Contact List -->
<div class="section-seperator">
    <div class="content-lg container">
      <h1 class="wow fadeInLeft"> TOTAL LIST </h1>

            <!-- Contact List -->
              {% for key, value in rest.items %}
              <span id={{key}} class="anchor"></span>
              <p><h1 class="wow fadeInLeft"> {{key}} </h1></p>
              <div class="row">
              <div id="threecont" class="row">
              {% for res in value %}
                {% if forloop.counter0|divisibleby:3 %}
                  </div>
                {% endif %}
                {% if forloop.counter0|divisibleby:3 %}
                  <div id="threecont" class="row">
                {% endif %}
                <div class="col-sm-4 sm-margin-b-50">
                    <div class="wow fadeInLeft" data-wow-duration=".3" data-wow-delay=".3s">
                        <h3><a href="{% url 'anniversary:vote' %}{{res.name}}">{{res.name}} ★{{res.restaurant_star}}</a> <span class="text-uppercase margin-l-20">{{res.restaurant_type}}</span></h3>
                        <!--<h3>{{res.name}} ★{{res.restaurant_star}}<span class="text-uppercase margin-l-20">{{res.restaurant_type}}</span></h3>-->

                        <p>{{res.desc}}</p>
                        <ul class="list-unstyled contact-list">
                            <li><i class="margin-r-10 color-base icon-call-out"></i>{{res.phonenumber}}</li>
                        </ul>
                    </div>
                </div>
              {% endfor %}
              </div>
              </div>
              <br></br>
              {% endfor %}
            <!-- End Contact List -->
        <!--// end row -->
    </div>
</div>

<div id="map" style="width:100%;height:400px;"></div>
<script>
  var map = new naver.maps.Map('map');
  var myaddress = '국회대로70길';// 도로명 주소나 지번 주소만 가능 (건물명 불가!!!!)
  naver.maps.Service.geocode({address: myaddress}, function(status, response) {
      if (status !== naver.maps.Service.Status.OK) {
          return alert(myaddress + '의 검색 결과가 없거나 기타 네트워크 에러');
      }
      var result = response.result;
      // 검색 결과 갯수: result.total
      // 첫번째 결과 결과 주소: result.items[0].address
      // 첫번째 검색 결과 좌표: result.items[0].point.y, result.items[0].point.x
      var myaddr = new naver.maps.Point(result.items[0].point.x, result.items[0].point.y);
      map.setCenter(myaddr); // 검색된 좌표로 지도 이동
      // 마커 표시
      var marker = new naver.maps.Marker({
        position: myaddr,
        map: map
      });
      // 마커 클릭 이벤트 처리
      naver.maps.Event.addListener(marker, "click", function(e) {
        if (infowindow.getMap()) {
            infowindow.close();
        } else {
            infowindow.open(map, marker);
        }
      });
      // 마크 클릭시 인포윈도우 오픈
      var infowindow = new naver.maps.InfoWindow({
          content: '<h4> [네이버 개발자센터]</h4><a href="https://developers.naver.com" target="_blank"><img src="https://developers.naver.com/inc/devcenter/images/nd_img.png"></a>'
      });
  });
</script>
<!--========== PAGE LAYOUT ==========-->
{% endblock %}
